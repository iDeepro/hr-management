<%- include('partials/header') %>
<div class="container mt-5">
  <h1>Add Employee</h1>

  <div class="row">
    <div class="col-sm-8">
      <div class="card">
        <div class="card-body">

          <!-- Makes post request to mark employees as fired or retired and delete employee -->
          <form class="delete-btn-form" action="/edit/delete/<%=employee._id%>" method="post">
            <button type="submit" class="btn btn-danger">Delete Employee</button>
          </form>
          <!-- Makes POST request to add employee route -->
          <form action="/edit/<%=employee._id%>" method="post">
            <div class="form-group">
              <label for="name">Employee Name</label>
              <input id="name" type="text" class="form-control" name="empName" value="<%=employee.name%>">
            </div>
            <div class="form-group">
              <label for="age">Age</label>
              <input id="age" type="number" class="form-control" name="EmpAge" value="<%=employee.age%>">
            </div>
            <div id="genderPref" class="form-group">
              <label style="display:block;">Gender</label>
              <% if (employee.gender === "Male") { %>
              <label for="gender">Male</label>
              <input id="gender" type="checkbox" class="form-control" value="<%=employee.gender%>" name="genSel" checked>
              <label for="gender">Female</label>
              <input id="gender" type="checkbox" class="form-control" value="Female" name="genSel">
              <%} else {%>
              <label for="gender">Male</label>
              <input id="gender" type="checkbox" class="form-control" value="Male" name="genSel">
              <label for="gender">Female</label>
              <input id="gender" type="checkbox" class="form-control" value="<%=employee.gender%>" name="genSel" checked>
              <%}%>
            </div>
            <div class="form-group">
              <!-- Type set as text since employee ID might be alpha-numeric -->
              <label for="empId">Employee ID</label>
              <input id="empId" type="text" class="form-control" value="<%=employee.empID%>" name="empID">
            </div>
            <div class="form-group">
              <label for="currPost">Current Position</label>
              <input id="currPost" type="text" class="form-control" value="<%=employee.currPost%>" name="currPost">
            </div>
            <div class="form-group">
              <label for="salary">Salary</label>
              <input id="salary" type="number" class="form-control" value="<%=employee.salary%>" name="salary">
            </div>
            <div class="form-group">
              <label for="relatedDept">Related Departments</label>
              <input id="relatedDept" type="text" class="form-control" value="<%=employee.relatedDept%>" name="relatedDept">
            </div>
            <div class="form-group">
              <label for="moreInfo">Additional Information</label>
              <input id="moreInfo" type="text" class="form-control" value="<%=employee.info%>" name="moreInfo">
            </div>
            <div id="genderPref" class="form-group">
              <p>Employee Status</p>
              <% if (employee.status === "Active") {%>
              <label for="active">Active</label>
              <input id="active" type="checkbox" class="form-control" value="Active" name="status" checked>
              <label for="fired">Fired</label>
              <input id="fired" type="checkbox" class="form-control" value="Fired" name="status">
              <label for="Retired">Retired</label>
              <input id="retired" type="checkbox" class="form-control" value="Retired" name="status">
              <% } else if (employee.status === "Fired") { %>
                <label for="active">Active</label>
                <input id="active" type="checkbox" class="form-control" value="Active" name="status">
                <label for="fired">Fired</label>
                <input id="fired" type="checkbox" class="form-control" value="Fired" name="status" checked>
                <label for="Retired">Retired</label>
                <input id="retired" type="checkbox" class="form-control" value="Retired" name="status">
              <% } else { %>
                <label for="active">Active</label>
                <input id="active" type="checkbox" class="form-control" value="Active" name="status">
                <label for="fired">Fired</label>
                <input id="fired" type="checkbox" class="form-control" value="Fired" name="status">
                <label for="Retired">Retired</label>
                <input id="retired" type="checkbox" class="form-control" value="Retired" name="status" checked>
              <% } %>
            </div>
            <button type="submit" class="btn btn-dark">Update Records</button>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>

<%- include('partials/header') %>
